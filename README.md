# Описание реализации проекта:green_book:
![image](https://user-images.githubusercontent.com/46257224/158644697-b3639a76-f4eb-4a47-8ef3-6431d33a3847.png)
### [***`Посмотреть`:rocket:***](https://wouldrewind.github.io/TrueConfTest/)
## Начальное состояние:white_check_mark: 
Изначально все лифты находятся в состоянии покоя. Система спроектирована так, что количество этажей и число лифтовых шахт можно поменять, при этом размер лифтов и этажей пересчитается.  

Кнопки находятся в неактивном состоянии.
## Вызов лифта:white_check_mark: 
При нажатии на неактивную кнопку вызова программа ищет ближайший свободный лифт, расположенный к вызванному этажу. Поиск свободных лифтов происходит слева направа(как на картинке)  

![image](https://user-images.githubusercontent.com/46257224/158647488-4429623c-b8cc-47b7-b651-d2745c94fbfd.png)

Данные лифтовой системы обновляются.  

Вызов нескольких этажей также обрабатывается:  
![image](https://user-images.githubusercontent.com/46257224/158647812-6930115b-8c73-43b1-a33a-fdfc58a4b108.png)

Лифт движется со скоростью 1 этаж за секунду.
## Остановка на этаже:white_check_mark: 
При остановке на этаже лифт стоит 3 секунды и мигает:  

![image](https://user-images.githubusercontent.com/46257224/158648166-55c2b9b4-5c55-4e36-a158-07bf483658ec.png)
## Система кнопок:white_check_mark: 
Представляет собой массив объектов со свойствами уровня и состояния вызова:  

![image](https://user-images.githubusercontent.com/46257224/158648438-17936fe4-332c-40a6-85b5-b7d2ff314552.png)

При вызове обновляется состояние вызова.
## Очередь вызовов:white_check_mark: 
Очередь реализована по принципу FIFO(First In First Out) - первый этаж в очереди будет обработан первым.  
Очередь реализована через массив `levelsQueue`:  

![image](https://user-images.githubusercontent.com/46257224/158649904-b7d70aeb-9f11-4055-ba56-92331f3d9596.png)

Кнопки при добавлении этажа в очередь подсвечиваются активным цветом.  
Повторное нажатие активной кнопки не добавляет ее в очередь и не изменяет её активного цвета.
По прибытии лифта на этаж кнопка "отпускается".  
## Алгоритм поиска ближайшего лифта:white_check_mark:
Логика функции поиска ближайшего лифта `findFreeClosestShaft` вынесена в отдельный файл,т.к. довольно большая:    

![image](https://user-images.githubusercontent.com/46257224/158651751-7074628b-4e7f-4b4c-9b55-9efd25f11625.png)  

С помощью функции `Array.prototype.reduce` выбирается наиболее близкий свободный лифт. Обязательные условия - лифт должен быть свободен и расстояние между этажом и лифтом должно быть минимальным.
Если на этаже уже есть лифт - вызов пропускается.  
Если свободный лифт не найден, возвращается объект со свойствами `gap` со значением макисмального этажа и `allBusy` со значение ***true***, если все лифты заняты. В таком случае вызов помещается в очередь `levelsQueue`.
## Запоминание состояние системы после перезагрузки и закрытии страницы:red_circle:
**Реализовано частично**  
Система запоминает позицию лифта при `beforeunload` событии страницы, если лифт приехал на этаж и находится либо в состоянии покоя, либо мигает:  

![image](https://user-images.githubusercontent.com/46257224/158656334-cbc0fa8e-3aad-4b18-9839-b613a462eb64.png)  

При перезагрузке/закрытие и открытии страницы система лифтов **не возобновляет движение:no_entry:**  
Также имеется ~~костыль~~ недочет при изменении параметров системы(если отключить localStorage, число лифтов и кнопок можно менять в файле `state.js`):  

![image](https://user-images.githubusercontent.com/46257224/158657391-389b0a6e-249c-41fa-be39-ab282fd6003a.png)  

Как уже упоминалось ранее, система расширяема: параметры `shafts` и `levels` меняются в файлах `state.js и `App.vue`.  
Покажу еще несколько примеров:  
![image](https://user-images.githubusercontent.com/46257224/158751068-c33f8a62-a91b-47d6-8eb3-6f38449c934d.png)  

![image](https://user-images.githubusercontent.com/46257224/158751209-c1203446-9802-45b2-b577-c2af21771a49.png)  

![image](https://user-images.githubusercontent.com/46257224/158751478-8d4f1b6d-bcb1-4118-855b-e19b7d001344.png)  
# Получение проекта с удаленного Git-репозитория:computer:
## Создание локального  Git-репозитория
```
git init
```
## Клонирование удаленного Git-репозитория
```
git clone https://github.com/wouldRewind/TrueConfTest.git
```
## Установка необходимых пакетов
```
npm install
```

## Компиляция проекта и отслеживание изменений
```
npm run start
```

## Сборка
```
npm run build
```
